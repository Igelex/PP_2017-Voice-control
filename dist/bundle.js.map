{"version":3,"sources":["webpack:///webpack/bootstrap 2ee37900f19103575e4d","webpack:///./public/javascripts/controller.js","webpack:///./public/javascripts/dependencies.js"],"names":["elements","INPUT_SELECTORS","FORM_SELECTORS","selectedInputField","inputMode","regExpClick","regExpGo","regExpCheck","console","log","test","window","onload","$","click","sendRequest","checkInputType","val","input","userInput","toString","toLowerCase","trim","t0","performance","now","changeInputMode","result","slice","indexOf","undefined","searchElements","document","getElementById","attr","value","selectElements","t1","selector","selectedElements","length","i","textContent","hasValue","push","style","border","is","next","focus","backgroundColor","color","error","element","newInputMode","blur","ajax","host","port","dataType","url","type","done","data","fail","jqXHR","errorMessage","SpeechRecognition","webkitSpeechRecognition","recognition","lang","interimResults","onresult","event","results","transcript","info","addEventListener","start","navigator","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","audioCtx","AudioContext","webkitAudioContext","source","analyser","createAnalyser","minDecibels","maxDecibels","smoothingTimeConstant","audioChunks","rec","isRecording","distortion","createWaveShaper","gainNode","createGain","biquadFilter","createBiquadFilter","convolver","createConvolver","canvas","querySelector","canvasCtx","getContext","WIDTH","width","HEIGHT","height","drawVisual","Storage","localStorage","getItem","setItem","runAudioContext","startAudioRecord","stopAudioContext","audio","stream","createMediaStreamSource","connect","destination","visualize","voiceMute","MediaRecorder","ondataavailable","e","onstop","Blob","recordedAudio","src","URL","createObjectURL","controls","audioDownload","href","download","innerHTML","err","fftSize","bufferLengthAlt","frequencyBinCount","dataArrayAlt","Uint8Array","clearRect","drawAlt","requestAnimationFrame","getByteFrequencyData","fillStyle","fillRect","barWidth","barHeight","x","gain","state","suspend","then","cancelAnimationFrame","resume","getAverageVolume","array","values","average","setTimeOut","setTimeout","stop","scriptJquery","createElement","scriptAnnyang","scriptSpeechKitt","getElementsByTagName","appendChild"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2ee37900f19103575e4d","/**\r\n * Created by Pastuh on 19.10.2017.\r\n */\r\n\r\nimport bindDependencies from './dependencies';\r\n/*import frequencyAnalyser from './frequencyAnalyser';*/\r\n\r\n\r\nbindDependencies();\r\n\r\nlet elements = [];\r\nlet INPUT_SELECTORS = 'a, li, :button';\r\nlet FORM_SELECTORS = 'label, input[type=\"email\"], input[type=\"text\"], input[type=\"password\"], input[type=\"number\"],input[type=\"search\"], input[type=\"tel\"]';\r\n\r\nlet selectedInputField;\r\nlet inputMode = '';\r\nlet regExpClick = /(click)\\s[[a-zA-Z0-9\\.]/;\r\nlet regExpGo = /(go to)\\s[[a-zA-Z0-9\\.]/;\r\nlet regExpCheck = /(check)\\s[[a-zA-Z0-9\\.]/;\r\nconsole.log('Test Click: ' + regExpClick.test('please click Link kek'));\r\nconsole.log('Test Go: ' + regExpGo.test('please go to Email address:'));\r\nconsole.log('Test Check: ' + regExpCheck.test('please check male'));\r\n\r\nwindow.onload = function () {\r\n\r\n    //frequencyAnalyser();\r\n\r\n    $('#request').click(function () {\r\n        sendRequest();\r\n    });\r\n\r\n    $('#start-search').click(function () {\r\n        checkInputType($('#search-input').val());\r\n    });\r\n\r\n    function checkInputType(input) {\r\n\r\n        let userInput = input.toString().toLowerCase().trim();\r\n        let t0 = performance.now();\r\n\r\n        console.log(regExpClick.test(userInput));\r\n\r\n        if (regExpClick.test(userInput)) {\r\n\r\n            changeInputMode('click');\r\n\r\n            let result = userInput.slice((userInput.indexOf('click') + 5)).trim();\r\n            if (result != undefined) {\r\n                console.log('Search string for CLICKS: ' + result);\r\n                searchElements(INPUT_SELECTORS, result);\r\n            }\r\n        }\r\n        else if (regExpGo.test(userInput)) {\r\n\r\n            changeInputMode('typing');\r\n\r\n            let result = userInput.slice((userInput.indexOf('go to') + 5)).trim();\r\n\r\n            if (result) {\r\n                console.log('Search string: ' + result);\r\n                searchElements(FORM_SELECTORS, result)\r\n            }\r\n        }else if (inputMode === 'typing' && selectedInputField){\r\n            console.log('---------Typing text......: ' + userInput);\r\n            //selectedInputField.value += userInput;\r\n            document.getElementById($(selectedInputField).attr('id')).value += ' ' + userInput;\r\n\r\n        }\r\n        selectElements(elements);\r\n        elements = [];\r\n        let t1 = performance.now();\r\n        console.log('Execution time: ' + (t1 - t0) + 'mil');\r\n    }\r\n\r\n    function searchElements(selector, userInput) {\r\n        selectedInputField = null;\r\n        let selectedElements = $(selector);\r\n        if (selectedElements.length > 0) {\r\n            for (let i = 0; i < selectedElements.length; i++) {\r\n                console.log('######Found Elemets#####: ' + selectedElements[i].textContent);\r\n                if (selectedElements[i].textContent.toLowerCase().trim() === userInput\r\n                    || hasValue(selectedElements[i], userInput)) {\r\n                    elements.push(selectedElements[i]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    function selectElements() {\r\n        console.log('++++Count Elemets+++++: ' + elements.length);\r\n        if (elements.length >= 2) {\r\n            for (let i = 0; i < elements.length; i++) {\r\n                elements[i].style.border = 'black 5px solid';\r\n                console.log('++++Selected Elemets+++++: ' + elements[i].textContent);\r\n            }\r\n        } else if (elements.length === 1 && elements[0] !== undefined) {\r\n            if ($(elements).is('label')) {\r\n                $(elements).next().focus();\r\n                selectedInputField = $(elements).next();\r\n            } else {\r\n                console.log('++++Selected Elemets+++++: ' + elements[0].textContent);\r\n                elements[0].style.backgroundColor = 'black';\r\n                elements[0].style.color = 'white';\r\n                elements[0].click();\r\n            }\r\n        } else {\r\n            console.error('-------------No element found------------------------------');\r\n        }\r\n    }\r\n\r\n    function hasValue(element, userInput) {\r\n        if (element.value !== undefined) {\r\n            if (element.value.toString().toLowerCase() === userInput) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    function changeInputMode(newInputMode) {\r\n        inputMode = newInputMode;\r\n        if (inputMode !== 'typing'){\r\n            $(selectedInputField).blur();\r\n            selectedInputField = null;\r\n        }\r\n\r\n        console.log('------MODUS------' + inputMode);\r\n\r\n    }\r\n\r\n    function sendRequest() {\r\n        $.ajax({\r\n            host: 'localhost',\r\n            port: '3000',\r\n            dataType: 'text',\r\n            url: '/test',\r\n            type: 'POST'\r\n        }).done(function (data) {\r\n            //alert('Greetings from Server: ' + data);\r\n            console.log(data);\r\n            checkInputType(data);\r\n        }).fail(function (jqXHR, errorMessage, error) {\r\n            console.log('AJAx error: ' + error);\r\n        });\r\n    }\r\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n    window.SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\r\n    const recognition = new SpeechRecognition();\r\n\r\n    recognition.lang = 'en-US';\r\n    recognition.interimResults = false;\r\n\r\n    /*if (inputMode){\r\n        recognition.addEventListener('result', e => {\r\n            const transcript = Array.from(e.results)\r\n                .map(result => result[0])\r\n                .map(result => result.transcript)\r\n                .join('')\r\n            console.log('**********'  + transcript);\r\n            if (e.results[0].isFinal){\r\n                checkInputType(result);\r\n            }\r\n        });\r\n    }*/\r\n    recognition.onresult = function(event) {\r\n        let result = event.results[0][0].transcript;\r\n        console.info('-----ON RESULT------: '  + result);\r\n        if(result){\r\n            checkInputType(result);\r\n        }\r\n    };\r\n    recognition.addEventListener('end', recognition.start);\r\n\r\n\r\n\r\n\r\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    navigator.getUserMedia = (navigator.getUserMedia ||\r\n        navigator.webkitGetUserMedia ||\r\n        navigator.mozGetUserMedia ||\r\n        navigator.msGetUserMedia);\r\n\r\n// set up forked web audio context, for multiple browsers\r\n// window. is needed otherwise Safari explodes\r\n\r\n    let audioCtx = new (window.AudioContext || window.webkitAudioContext)();\r\n    let source;\r\n\r\n//set up the different audio nodes we will use for the app\r\n    let analyser = audioCtx.createAnalyser();\r\n    analyser.minDecibels = -90;\r\n    analyser.maxDecibels = -10;\r\n    analyser.smoothingTimeConstant = 0.85;\r\n\r\n    let audioChunks = [];\r\n    let rec;\r\n    let isRecording = false;\r\n\r\n    let distortion = audioCtx.createWaveShaper();\r\n    let gainNode = audioCtx.createGain();\r\n    let biquadFilter = audioCtx.createBiquadFilter();\r\n    let convolver = audioCtx.createConvolver();\r\n\r\n// set up canvas context for visualizer\r\n\r\n    let canvas = document.querySelector('.visualizer');\r\n    let canvasCtx = canvas.getContext(\"2d\");\r\n    const WIDTH = canvas.width;\r\n    const HEIGHT = canvas.height;\r\n    let drawVisual;\r\n\r\n    /*if (typeof (Storage) !== 'undefined') {\r\n        console.log('audio value : ' + localStorage.getItem('audio'));\r\n        if (localStorage.getItem('audio') == true) {\r\n            runAudioContext();\r\n            startAudioRecord();\r\n            $('#startRecord').textContent = 'Stop';\r\n            console.log('Audio settings stored');\r\n        }\r\n    } else {\r\n        console.log('Storage is undefined: ' + Storage);\r\n    }*/\r\n\r\n    $('#startRecord').click(function () {\r\n        if (this.textContent.toLowerCase().trim() === 'start') {\r\n            if (typeof (Storage) === 'undefined') {\r\n                if (localStorage.getItem('audio') !== true) {\r\n                    localStorage.setItem('audio', true);\r\n                    console.log('Save audio settings');\r\n                }\r\n            }\r\n            recognition.start();\r\n            runAudioContext();\r\n            startAudioRecord();\r\n            this.textContent = 'Stop';\r\n        } else {\r\n            stopAudioContext();\r\n            this.textContent = 'Start';\r\n        }\r\n    });\r\n\r\n//main block for doing the audio recording\r\n    function startAudioRecord() {\r\n        console.log('Start Audio Record');\r\n        if (navigator.getUserMedia) {\r\n            console.log('getUserMedia supported.');\r\n            navigator.getUserMedia(\r\n                // constraints - only audio needed for this app\r\n                {\r\n                    audio: true\r\n                },\r\n\r\n                // Success callback\r\n                function (stream) {\r\n                    source = audioCtx.createMediaStreamSource(stream);\r\n                    source.connect(analyser);\r\n                    analyser.connect(distortion);\r\n                    distortion.connect(biquadFilter);\r\n                    biquadFilter.connect(convolver);\r\n                    convolver.connect(gainNode);\r\n                    gainNode.connect(audioCtx.destination);\r\n                    visualize();\r\n                    voiceMute();\r\n\r\n                    rec = new MediaRecorder(stream);\r\n\r\n                    rec.ondataavailable = e => {\r\n                        audioChunks.push(e.data);\r\n                    };\r\n                    rec.onstop = function () {\r\n\r\n                        isRecording = false;\r\n\r\n                        if (audioChunks.length > 0) {\r\n                            let audio = new Blob(audioChunks, {type: 'audio/wave'});\r\n                            recordedAudio.src = URL.createObjectURL(audio);\r\n                            recordedAudio.controls = true;\r\n                            audioDownload.href = recordedAudio.src;\r\n                            audioDownload.download = 'wave';\r\n                            audioDownload.innerHTML = 'download';\r\n                            audioChunks = [];\r\n                        }\r\n                    }\r\n                },\r\n                // Error callback\r\n                function (err) {\r\n                    console.log('The following gUM error occured: ' + err);\r\n                }\r\n            );\r\n        } else {\r\n            console.log('getUserMedia not supported on your browser!');\r\n        }\r\n\r\n        function visualize() {\r\n            analyser.fftSize = 512;\r\n            let bufferLengthAlt = analyser.frequencyBinCount;\r\n            console.log(bufferLengthAlt);\r\n            let dataArrayAlt = new Uint8Array(bufferLengthAlt);\r\n\r\n            canvasCtx.clearRect(0, 0, WIDTH, HEIGHT);\r\n\r\n            let drawAlt = function () {\r\n                drawVisual = requestAnimationFrame(drawAlt);\r\n\r\n                analyser.getByteFrequencyData(dataArrayAlt);\r\n\r\n                canvasCtx.fillStyle = 'white';\r\n                canvasCtx.fillRect(0, 0, WIDTH, HEIGHT);\r\n\r\n                let barWidth = (WIDTH / bufferLengthAlt) * 2.5;\r\n                let barHeight;\r\n                let x = 0;\r\n\r\n                for (let i = 0; i < bufferLengthAlt; i++) {\r\n                    barHeight = dataArrayAlt[i];\r\n                    canvasCtx.fillStyle = 'rgb(' + (barHeight + 100) + ',50,50)';\r\n                    canvasCtx.fillRect(x, HEIGHT - barHeight / 2, barWidth, barHeight / 2);\r\n\r\n                    x += barWidth + 1;\r\n\r\n                    /*if (barHeight >= 100) {\r\n                        /!*console.log('#####' + barHeight);*!/\r\n                        if (isRecording === false) {\r\n                            console.log('...Starting recorder');\r\n                            rec.start();\r\n                            isRecording = true;\r\n                            setTimeOut();\r\n                        }\r\n                    }*/\r\n                }\r\n            };\r\n            drawAlt();\r\n        }\r\n\r\n    }\r\n\r\n    function voiceMute() {\r\n        gainNode.gain.value = 0;\r\n    }\r\n\r\n    function stopAudioContext() {\r\n        //sendRequest();\r\n        if (audioCtx.state === 'running') {\r\n            audioCtx.suspend().then(function () {\r\n                window.cancelAnimationFrame(drawVisual);\r\n                canvasCtx.clearRect(0, 0, WIDTH, HEIGHT);\r\n                canvasCtx.fillStyle = \"transparent\";\r\n                canvasCtx.fillRect(0, 0, WIDTH, HEIGHT);\r\n                console.log('AudioContext state: ' + audioCtx.state);\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n    function runAudioContext() {\r\n        if (audioCtx.state === 'suspended' || audioCtx.state === 'closed') {\r\n            audioCtx.resume().then(function () {\r\n                console.log('AudioContext state: ' + audioCtx.state);\r\n            });\r\n        }\r\n    }\r\n\r\n    function getAverageVolume(array) {\r\n        let values = 0;\r\n        let average;\r\n        let length = array.length;\r\n        // get all the frequency amplitudes\r\n        for (let i = 0; i < length; i++) {\r\n            values += array[i];\r\n        }\r\n        average = values / length;\r\n        console.log('AVArAGE:' + average);\r\n        return average;\r\n    }\r\n\r\n    function setTimeOut() {\r\n        setTimeout(function () {\r\n            rec.stop();\r\n            sendRequest();\r\n            console.log('...Stopping recorder');\r\n        }, 1500);\r\n\r\n    }\r\n};\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./public/javascripts/controller.js","/*\r\n* Bind needed Libraries in HTML\r\n* */\r\nexport default function() {\r\n    console.log('IN Dependencies !!!!!!!!!');\r\n    let scriptJquery = document.createElement('script');\r\n    let scriptAnnyang = document.createElement('script');\r\n    let scriptSpeechKitt = document.createElement('script');\r\n    scriptJquery.src = '//ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js';\r\n    scriptAnnyang.src = '//cdnjs.cloudflare.com/ajax/libs/annyang/2.6.0/annyang.min.js';\r\n    scriptSpeechKitt.src = '//cdnjs.cloudflare.com/ajax/libs/SpeechKITT/0.3.0/speechkitt.min.js';\r\n    console.log('SCRIPT !!!!!!!!!' + scriptJquery.src.toString());\r\n\r\n    document.getElementsByTagName('head')[0].appendChild(scriptJquery);\r\n    document.getElementsByTagName('head')[0].appendChild(scriptAnnyang);\r\n    document.getElementsByTagName('head')[0].appendChild(scriptSpeechKitt);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/javascripts/dependencies.js"],"sourceRoot":""}