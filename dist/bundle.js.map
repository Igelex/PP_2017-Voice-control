{"version":3,"sources":["webpack:///webpack/bootstrap f91ac1c8b4ab2a89ae04","webpack:///./public/javascripts/controller.js","webpack:///./public/javascripts/dependencies.js","webpack:///./public/javascripts/const.js","webpack:///./public/javascripts/visualizer.js"],"names":["elements","selectedInputField","inputMode","window","onload","$","click","checkInputMode","val","changeInputMode","input","t0","performance","now","userCommand","toString","toLowerCase","trim","result","test","splitUserCommand","console","log","searchForButtons","scrollDown","scrollUp","searchForInputFields","searchForCheckboxesAndRadios","textContent","length","error","t1","selector","userInput","selectedElements","elem","i","isVisible","startsWith","hasValueAttribute","hasPlaceholderAttribute","push","is","next","focus","multipleElementsSelected","style","backgroundColor","color","first","border","element","value","undefined","placeholder","newInputMode","blur","animate","scrollTop","innerHeight","command","slice","indexOf","top_of_element","offset","top","bottom_of_element","outerHeight","bottom_of_screen","height","top_of_screen","SpeechRecognition","webkitSpeechRecognition","recognition","lang","interimResults","onresult","event","results","transcript","info","addEventListener","start","e","scriptJquery","document","createElement","scriptAnnyang","scriptSpeechKitt","src","getElementsByTagName","appendChild","CLICK_SELECTORS","GO_TO_SELECTORS","CHECK_SELECTORS","SELECT_SELECTORS","SEARCH_SELECTORS","CLICK","CHECK","GO_TO","OFF","SELECT","SCROLL_UP","SCROLL_DOWN","SCROLL_TO_BOTTOM","SCROLL_TO_TOP","SEARCH","STOP","REG_EXP_CLICK","REG_EXP_GO_TO","REG_EXP_OFF","REG_EXP_SEARCH","REG_EXP_CHECK","REG_EXP_SELECT","REG_EXP_SCROLL_UP","REG_EXP_SCROLL_DOWN","REG_EXP_SCROLL_TO_TOP","REG_EXP_SCROLL_TO_BOTTOM","REG_EXP_STOP","MODE_TYPE","MODE_SELECT","MODE_NO_MODE","speechRecognition","Storage","localStorage","getItem","setItem","runAudioContext","startAudioRecord","stopAudioContext","navigator","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","audioCtx","AudioContext","webkitAudioContext","source","analyser","createAnalyser","minDecibels","maxDecibels","smoothingTimeConstant","audioChunks","rec","isRecording","distortion","createWaveShaper","gainNode","createGain","biquadFilter","createBiquadFilter","convolver","createConvolver","canvas","querySelector","canvasCtx","getContext","WIDTH","width","HEIGHT","drawVisual","audio","stream","createMediaStreamSource","connect","destination","visualize","voiceMute","MediaRecorder","ondataavailable","data","onstop","Blob","type","recordedAudio","URL","createObjectURL","controls","audioDownload","href","download","innerHTML","err","fftSize","bufferLengthAlt","frequencyBinCount","dataArrayAlt","Uint8Array","clearRect","drawAlt","requestAnimationFrame","getByteFrequencyData","fillStyle","fillRect","barWidth","barHeight","x","gain","state","suspend","then","cancelAnimationFrame","resume","getAverageVolume","array","values","average","setTimeOut","setTimeout","stop","sendRequest"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;ACzDA;;AACA;;AAOA;;;;AAZA;;;AAcA;AAEA,IAAIA,WAAW,EAAf;AACA,IAAIC,kBAAJ;AACA,IAAIC,+BAAJ;;AAEAC,OAAOC,MAAP,GAAgB,YAAY;AAExB;AAEAC,IAAE,eAAF,EAAmBC,KAAnB,CAAyB,YAAY;AACjCC,mBAAeF,EAAE,eAAF,EAAmBG,GAAnB,EAAf;AACH,GAFD;AAIAH,IAAE,YAAF,EAAgBC,KAAhB,CAAsB,YAAY;AAC9BG;AACH,GAFD;;AAIA,WAASF,cAAT,CAAwBG,KAAxB,EAA+B;AAE3B,QAAIC,KAAKC,YAAYC,GAAZ,EAAT;AAEA,QAAIC,cAAcJ,MAAMK,QAAN,GAAiBC,WAAjB,GAA+BC,IAA/B,EAAlB;AAEA,QAAIC,MAAJ;;AAEA,QAAI,oBAAaC,IAAb,CAAkBL,WAAlB,CAAJ,EAAoC;AAChCL;AACA;AACH;;AAED,QAAIP,iCAAJ,EAAgC;AAC5B,cAAQ,IAAR;AACI,aAAK,qBAAciB,IAAd,CAAmBL,WAAnB,CAAL;AAEIL;AAEAS,mBAASE,iBAAiBN,WAAjB,eAAT;;AAEA,cAAII,MAAJ,EAAY;AACRG,oBAAQC,GAAR,CAAY,+BAA+BJ,MAA3C;AACAK,qDAAkCL,MAAlC;AACH;;AAED;;AACJ,aAAK,2BAAoBC,IAApB,CAAyBL,WAAzB,CAAL;AACIU;AACA;;AACJ,aAAK,yBAAkBL,IAAlB,CAAuBL,WAAvB,CAAL;AACIW;AACA;;AACJ,aAAK,6BAAsBN,IAAtB,CAA2BL,WAA3B,CAAL;AACIU;AACA;;AACJ,aAAK,gCAAyBL,IAAzB,CAA8BL,WAA9B,CAAL;AACIW;AACA;;AACJ,aAAK,qBAAcN,IAAd,CAAmBL,WAAnB,CAAL;AAEII,mBAASE,iBAAiBN,WAAjB,eAAT;;AAEA,cAAII,MAAJ,EAAY;AACRG,oBAAQC,GAAR,CAAY,8BAA8BJ,MAA1C;AACAQ,yDAAsCR,MAAtC;AACH;;AACD;;AACJ,aAAK,sBAAeC,IAAf,CAAoBL,WAApB,CAAL;AAEI;;AACJ,aAAK,sBAAeK,IAAf,CAAoBL,WAApB,CAAL;AAEI;;AACJ,aAAK,qBAAcK,IAAd,CAAmBL,WAAnB,CAAL;AAEIL;AAEAS,mBAASE,iBAAiBN,WAAjB,eAAT;;AAEA,cAAII,MAAJ,EAAY;AACRG,oBAAQC,GAAR,CAAY,8BAA8BJ,MAA1C;AACAS,iEAA8Cb,WAA9C;AACH;;AACD;;AACJ,aAAK,mBAAYK,IAAZ,CAAiBL,WAAjB,CAAL;AAEI;;AACJ;AAtDJ;AAwDH,KAzDD,MAyDO,IAAIZ,kCAA2BD,kBAA/B,EAAmD;AACtDoB,cAAQC,GAAR,CAAY,iCAAiCR,WAA7C;AACA,UAAIc,cAAcvB,EAAEJ,kBAAF,EAAsBO,GAAtB,EAAlB;;AACA,UAAIoB,YAAYX,IAAZ,GAAmBY,MAAnB,KAA8B,CAAlC,EAAqC;AACjCD,uBAAed,WAAf;AACH,OAFD,MAEO;AACHc,uBAAe,MAAMd,WAArB;AACH;;AACDT,QAAEJ,kBAAF,EAAsBO,GAAtB,CAA0BoB,WAA1B;AACH,KATM,MASA,IAAI1B,gCAAJ,EAA+B,CAClC;AACH;;AAED,QAAIF,SAAS6B,MAAT,KAAoB,CAAxB,EAA2B;AACvBR,cAAQS,KAAR,CAAc,iDAAd;AACH;;AACD9B,eAAW,EAAX;AAEA,QAAI+B,KAAKnB,YAAYC,GAAZ,EAAT;AACAQ,YAAQC,GAAR,CAAY,sBAAsBS,KAAKpB,EAA3B,IAAiC,MAA7C;AACH;;AAED,WAASe,oBAAT,CAA8BM,QAA9B,EAAwCC,SAAxC,EAAmD;AAC/ChC,yBAAqB,IAArB;AAEA,QAAIiC,mBAAmB7B,EAAE2B,QAAF,CAAvB;AAEA,QAAIG,IAAJ;;AAEA,QAAID,iBAAiBL,MAAjB,GAA0B,CAA9B,EAAiC;AAE7B,WAAK,IAAIO,IAAI,CAAb,EAAgBA,IAAIF,iBAAiBL,MAArC,EAA6CO,GAA7C,EAAkD;AAE9CD,eAAOD,iBAAiBE,CAAjB,CAAP,CAF8C,CAI9C;;AAEA,YAAIC,UAAUF,IAAV,MAAoBA,KAAKP,WAAL,CAAiBZ,WAAjB,GAA+BC,IAA/B,GAAsCqB,UAAtC,CAAiDL,SAAjD,KAA+DM,kBAAkBJ,IAAlB,EAAwBF,SAAxB,CAA/D,IACbO,wBAAwBL,IAAxB,EAA8BF,SAA9B,CADP,CAAJ,EACsD;AAClDjC,mBAASyC,IAAT,CAAcN,IAAd;AACH;AACJ;;AAED,UAAInC,SAAS6B,MAAT,KAAoB,CAAxB,EAA2B;AAEvB,YAAIxB,EAAEL,QAAF,EAAY0C,EAAZ,CAAe,OAAf,CAAJ,EAA6B;AACzBzC,+BAAqBI,EAAEL,QAAF,EAAY2C,IAAZ,EAArB;AACA1C,6BAAmB2C,KAAnB;AACAnC;AAEH,SALD,MAKO;AACHR,+BAAqBI,EAAEL,QAAF,CAArB;AACAC,6BAAmB2C,KAAnB;AACAnC;AACH;AACJ,OAZD,MAYO;AACHoC;AACH;AACJ;AACJ;;AAED,WAAStB,gBAAT,CAA0BS,QAA1B,EAAoCC,SAApC,EAA+C;AAE3C,QAAIE,IAAJ;AAEA,QAAID,mBAAmB7B,EAAE2B,QAAF,CAAvB;;AAEA,QAAIE,iBAAiBL,MAAjB,GAA0B,CAA9B,EAAiC;AAC7B,WAAK,IAAIO,IAAI,CAAb,EAAgBA,IAAIF,iBAAiBL,MAArC,EAA6CO,GAA7C,EAAkD;AAE9CD,eAAOD,iBAAiBE,CAAjB,CAAP,CAF8C,CAI9C;;AAEA,YAAIC,UAAUF,IAAV,MAAoBA,KAAKP,WAAL,CAAiBZ,WAAjB,GAA+BC,IAA/B,GAAsCqB,UAAtC,CAAiDL,SAAjD,KACjBM,kBAAkBL,iBAAiBE,CAAjB,CAAlB,EAAuCH,SAAvC,CADH,CAAJ,EAC2D;AACvDjC,mBAASyC,IAAT,CAAcN,IAAd;AACH;AACJ;;AAED,UAAInC,SAAS6B,MAAT,KAAoB,CAAxB,EAA2B;AACvB7B,iBAAS,CAAT,EAAY8C,KAAZ,CAAkBC,eAAlB,GAAoC,OAApC;AACA/C,iBAAS,CAAT,EAAY8C,KAAZ,CAAkBE,KAAlB,GAA0B,OAA1B;AACAhD,iBAAS,CAAT,EAAYM,KAAZ;AACH,OAJD,MAIO;AACHuC;AACH;AACJ;AACJ;;AAED,WAASlB,4BAAT,CAAsCK,QAAtC,EAAgDC,SAAhD,EAA2D;AAEvD,QAAIC,mBAAmB7B,EAAE2B,QAAF,CAAvB;;AAEA,QAAIE,iBAAiBL,MAAjB,GAA0B,CAA9B,EAAiC;AAC7B,WAAK,IAAIO,IAAI,CAAb,EAAgBA,IAAIF,iBAAiBL,MAArC,EAA6CO,GAA7C,EAAkD;AAE9Cf,gBAAQC,GAAR,CAAY,8BAA8BY,iBAAiBE,CAAjB,EAAoBR,WAApB,CAAgCZ,WAAhC,EAA1C;;AAEA,YAAIkB,iBAAiBE,CAAjB,EAAoBR,WAApB,CAAgCZ,WAAhC,GAA8CC,IAA9C,GAAqDqB,UAArD,CAAgEL,SAAhE,CAAJ,EAAgF;AAC5EjC,mBAASyC,IAAT,CAAcP,iBAAiBE,CAAjB,CAAd;AACH;AACJ;;AAED,UAAIpC,SAAS6B,MAAT,KAAoB,CAAxB,EAA2B;AACvBxB,UAAEL,QAAF,EAAYiD,KAAZ,GAAoB3C,KAApB;AACA;;;AAGH,OALD,MAKO;AACHuC;AACH;AACJ;AACJ;;AAED,WAASA,wBAAT,GAAoC;AAChC,SAAK,IAAIT,IAAI,CAAb,EAAgBA,IAAIpC,SAAS6B,MAA7B,EAAqCO,GAArC,EAA0C;AACtCpC,eAASoC,CAAT,EAAYU,KAAZ,CAAkBI,MAAlB,GAA2B,iBAA3B;AACA7B,cAAQC,GAAR,CAAY,iCAAiCtB,SAASoC,CAAT,EAAYR,WAAzD;AACH;AACJ;;AAED,WAASW,iBAAT,CAA2BY,OAA3B,EAAoClB,SAApC,EAA+C;AAC3C,QAAIkB,QAAQC,KAAR,KAAkBC,SAAtB,EAAiC;AAC7B,UAAIF,QAAQC,KAAR,CAAcrC,QAAd,GAAyBC,WAAzB,GAAuCsB,UAAvC,CAAkDL,SAAlD,CAAJ,EAAkE;AAC9D,eAAO,IAAP;AACH;AACJ;;AACD,WAAO,KAAP;AACH;;AAED,WAASO,uBAAT,CAAiCW,OAAjC,EAA0ClB,SAA1C,EAAqD;AACjD,QAAIkB,QAAQG,WAAR,KAAwBD,SAA5B,EAAuC;AACnC,UAAIF,QAAQG,WAAR,CAAoBvC,QAApB,GAA+BC,WAA/B,GAA6CsB,UAA7C,CAAwDL,SAAxD,CAAJ,EAAwE;AACpE,eAAO,IAAP;AACH;AACJ;;AACD,WAAO,KAAP;AACH;;AAED,WAASxB,eAAT,CAAyB8C,YAAzB,EAAuC;AACnCrD,gBAAYqD,YAAZ;;AACA,QAAIrD,8BAAJ,EAA6B;AACzBG,QAAEJ,kBAAF,EAAsBuD,IAAtB;AACAvD,2BAAqB,IAArB;AACH;;AACDoB,YAAQC,GAAR,CAAY,+BAA+BpB,SAA3C;AACH;;AAED,WAASsB,UAAT,GAAsB;AAClBnB,MAAE,YAAF,EAAgBoD,OAAhB,CAAwB;AACpBC,iBAAWrD,EAAEF,MAAF,EAAUuD,SAAV,KAAyBvD,OAAOwD,WAAP,GAAqB;AADrC,KAAxB;AAGH;;AAED,WAASlC,QAAT,GAAoB;AAChBpB,MAAE,YAAF,EAAgBoD,OAAhB,CAAwB;AACpBC,iBAAWrD,EAAEF,MAAF,EAAUuD,SAAV,KAAyBvD,OAAOwD,WAAP,GAAqB;AADrC,KAAxB;AAGH;;AAED,WAASvC,gBAAT,CAA0BN,WAA1B,EAAuC8C,OAAvC,EAAgD;AAC5C,WAAO9C,YAAY+C,KAAZ,CAAmB/C,YAAYgD,OAAZ,CAAoBF,OAApB,IAA+BA,QAAQ/B,MAA1D,EAAmEZ,IAAnE,EAAP;AACH;;AAED,WAASoB,SAAT,CAAmBF,IAAnB,EAAyB;AACrB,QAAI4B,iBAAiB1D,EAAE8B,IAAF,EAAQ6B,MAAR,GAAiBC,GAAtC;AACA,QAAIC,oBAAoB7D,EAAE8B,IAAF,EAAQ6B,MAAR,GAAiBC,GAAjB,GAAuB5D,EAAE8B,IAAF,EAAQgC,WAAR,EAA/C;AACA,QAAIC,mBAAmB/D,EAAEF,MAAF,EAAUuD,SAAV,KAAwBrD,EAAEF,MAAF,EAAUkE,MAAV,EAA/C;AACA,QAAIC,gBAAgBjE,EAAEF,MAAF,EAAUuD,SAAV,EAApB;;AACA,QAAKU,mBAAmBL,cAApB,IAAwCO,gBAAgBJ,iBAA5D,EAAgF;AAC5E7C,cAAQC,GAAR,CAAY,iBAAZ;AACH,KAFD,MAEO;AACHD,cAAQC,GAAR,CAAY,qBAAZ;AACH;;AACD,WAAQ8C,mBAAmBL,cAApB,IAAwCO,gBAAgBJ,iBAA/D;AACH;AAED;;;;;AAGA,MAAI;AACA/D,WAAOoE,iBAAP,GAA2BpE,OAAOoE,iBAAP,IAA4BpE,OAAOqE,uBAA9D;AACA,QAAMC,cAAc,IAAIF,iBAAJ,EAApB;AAEAE,gBAAYC,IAAZ,GAAmB,OAAnB;AACAD,gBAAYE,cAAZ,GAA6B,KAA7B;AAEA;;;;;;;;;;;;;AAYAF,gBAAYG,QAAZ,GAAuB,UAAUC,KAAV,EAAiB;AACpC,UAAI3D,SAAS2D,MAAMC,OAAN,CAAc,CAAd,EAAiB,CAAjB,EAAoBC,UAAjC;AACA1D,cAAQ2D,IAAR,CAAa,2BAA2B9D,MAAxC;;AACA,UAAIA,MAAJ,EAAY;AACRX,uBAAeW,MAAf;AACH;AACJ,KAND;;AAOAuD,gBAAYQ,gBAAZ,CAA6B,KAA7B,EAAoCR,YAAYS,KAAhD;AACAT,gBAAYS,KAAZ;AACH,GA5BD,CA6BA,OAAOC,CAAP,EAAU;AACN9D,YAAQC,GAAR,CAAY,uBAAuB6D,CAAnC;AACH;AAGJ,CAzSD,C;;;;;;;;;;;;;;ACpBA;;;AAGe,oBAAW;AACtB9D,UAAQC,GAAR,CAAY,2BAAZ;AACA,MAAI8D,eAAeC,SAASC,aAAT,CAAuB,QAAvB,CAAnB;AACA,MAAIC,gBAAgBF,SAASC,aAAT,CAAuB,QAAvB,CAApB;AACA,MAAIE,mBAAmBH,SAASC,aAAT,CAAuB,QAAvB,CAAvB;AACAF,eAAaK,GAAb,GAAmB,4DAAnB;AACAF,gBAAcE,GAAd,GAAoB,+DAApB;AACAD,mBAAiBC,GAAjB,GAAuB,qEAAvB;AACApE,UAAQC,GAAR,CAAY,qBAAqB8D,aAAaK,GAAb,CAAiB1E,QAAjB,EAAjC;AAEAsE,WAASK,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,EAAyCC,WAAzC,CAAqDP,YAArD;AACAC,WAASK,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,EAAyCC,WAAzC,CAAqDJ,aAArD;AACAF,WAASK,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,EAAyCC,WAAzC,CAAqDH,gBAArD;AACH,C;;;;;;;;;;;;;;AChBD;;;AAGA,IAAMI,kBAAkB,gBAAxB;;AACA,IAAMC,kBAAkB,kGACpB,yCADJ;;AAEA,IAAMC,kBAAkB,OAAxB;;AACA,IAAMC,mBAAmB,QAAzB;;AACA,IAAMC,mBAAmB,sBAAzB;AACA;;;;;AAGA,IAAMC,QAAQ,OAAd;;AACA,IAAMC,QAAQ,OAAd;;AACA,IAAMC,QAAQ,OAAd;;AACA,IAAMC,MAAM,KAAZ;;AACA,IAAMC,SAAS,QAAf;;AACA,IAAMC,YAAY,WAAlB;;AACA,IAAMC,cAAc,aAApB;;AACA,IAAMC,mBAAmB,kBAAzB;;AACA,IAAMC,gBAAgB,eAAtB;;AACA,IAAMC,SAAS,QAAf;;AACA,IAAMC,OAAO,MAAb;AACA;;;;;AAGA,IAAIC,gBAAgB,yBAApB;;AACA,IAAIC,gBAAgB,yBAApB;;AACA,IAAIC,cAAc,SAAlB;;AACA,IAAIC,iBAAiB,YAArB;;AACA,IAAIC,gBAAgB,yBAApB;;AACA,IAAIC,iBAAiB,0BAArB;;AACA,IAAIC,oBAAoB,gCAAxB;;AACA,IAAIC,sBAAsB,kCAA1B;;AACA,IAAIC,wBAAwB,2CAA5B;;AACA,IAAIC,2BAA2B,8CAA/B;;AACA,IAAIC,eAAe,UAAnB;;AACAjG,QAAQC,GAAR,CAAY4F,kBAAkB/F,IAAlB,CAAuB,WAAvB,CAAZ;AACA;;;;AAGA,IAAMoG,YAAY,MAAlB;;AACA,IAAMC,cAAc,QAApB;;AACA,IAAMC,eAAe,SAArB;AACA;;;;;;;;;;;;;;;;;;;;AC5Ce,SAASC,iBAAT,GAA6B;AAExCrH,IAAE,cAAF,EAAkBC,KAAlB,CAAwB,YAAY;AAChC;;;;;;;;;;AAWA,QAAI,KAAKsB,WAAL,CAAiBZ,WAAjB,GAA+BC,IAA/B,OAA0C,OAA9C,EAAuD;AACnD,UAAI,QAAQ0G,OAAR,yCAAQA,OAAR,MAAoBtE,SAAxB,EAAmC;AAC/B,YAAIuE,aAAaC,OAAb,CAAqB,OAArB,MAAkC,IAAtC,EAA4C;AACxCD,uBAAaE,OAAb,CAAqB,OAArB,EAA8B,IAA9B;AACAzG,kBAAQC,GAAR,CAAY,qBAAZ;AACH;AACJ,OANkD,CAOnD;;;AACAyG;AACAC;AACA,WAAKpG,WAAL,GAAmB,MAAnB;AACH,KAXD,MAWO;AACHqG;AACA,WAAKrG,WAAL,GAAmB,OAAnB;AACH;AACJ,GA3BD;AA6BA;;;;AAGAsG,YAAUC,YAAV,GAA0BD,UAAUC,YAAV,IACtBD,UAAUE,kBADY,IAEtBF,UAAUG,eAFY,IAGtBH,UAAUI,cAHd,CAlCwC,CAuC5C;AACA;;AAEI,MAAIC,WAAW,KAAKpI,OAAOqI,YAAP,IAAuBrI,OAAOsI,kBAAnC,GAAf;AACA,MAAIC,MAAJ,CA3CwC,CA6C5C;;AACI,MAAIC,WAAWJ,SAASK,cAAT,EAAf;AACAD,WAASE,WAAT,GAAuB,CAAC,EAAxB;AACAF,WAASG,WAAT,GAAuB,CAAC,EAAxB;AACAH,WAASI,qBAAT,GAAiC,IAAjC;AAEA,MAAIC,cAAc,EAAlB;AACA,MAAIC,GAAJ;AACA,MAAIC,cAAc,KAAlB;AAEA,MAAIC,aAAaZ,SAASa,gBAAT,EAAjB;AACA,MAAIC,WAAWd,SAASe,UAAT,EAAf;AACA,MAAIC,eAAehB,SAASiB,kBAAT,EAAnB;AACA,MAAIC,YAAYlB,SAASmB,eAAT,EAAhB,CA1DwC,CA4D5C;;AAEI,MAAIC,SAAStE,SAASuE,aAAT,CAAuB,aAAvB,CAAb;AACA,MAAIC,YAAYF,OAAOG,UAAP,CAAkB,IAAlB,CAAhB;AACA,MAAMC,QAAQJ,OAAOK,KAArB;AACA,MAAMC,SAASN,OAAOtF,MAAtB;AACA,MAAI6F,UAAJ,CAlEwC,CAoE5C;;AACI,WAASlC,gBAAT,GAA4B;AACxB3G,YAAQC,GAAR,CAAY,oBAAZ;;AACA,QAAI4G,UAAUC,YAAd,EAA4B;AACxB9G,cAAQC,GAAR,CAAY,yBAAZ;AACA4G,gBAAUC,YAAV,EACI;AACA;AACIgC,eAAO;AADX,OAFJ,EAMI;AACA,gBAAUC,MAAV,EAAkB;AACd1B,iBAASH,SAAS8B,uBAAT,CAAiCD,MAAjC,CAAT;AACA1B,eAAO4B,OAAP,CAAe3B,QAAf;AACAA,iBAAS2B,OAAT,CAAiBnB,UAAjB;AACAA,mBAAWmB,OAAX,CAAmBf,YAAnB;AACAA,qBAAae,OAAb,CAAqBb,SAArB;AACAA,kBAAUa,OAAV,CAAkBjB,QAAlB;AACAA,iBAASiB,OAAT,CAAiB/B,SAASgC,WAA1B;AACAC;AACAC;AAEAxB,cAAM,IAAIyB,aAAJ,CAAkBN,MAAlB,CAAN;;AAEAnB,YAAI0B,eAAJ,GAAsB,aAAK;AACvB3B,sBAAYvG,IAAZ,CAAiB0C,EAAEyF,IAAnB;AACH,SAFD;;AAGA3B,YAAI4B,MAAJ,GAAa,YAAY;AAErB3B,wBAAc,KAAd;;AAEA,cAAIF,YAAYnH,MAAZ,GAAqB,CAAzB,EAA4B;AACxB,gBAAIsI,QAAQ,IAAIW,IAAJ,CAAS9B,WAAT,EAAsB;AAAC+B,oBAAM;AAAP,aAAtB,CAAZ;AACAC,0BAAcvF,GAAd,GAAoBwF,IAAIC,eAAJ,CAAoBf,KAApB,CAApB;AACAa,0BAAcG,QAAd,GAAyB,IAAzB;AACAC,0BAAcC,IAAd,GAAqBL,cAAcvF,GAAnC;AACA2F,0BAAcE,QAAd,GAAyB,MAAzB;AACAF,0BAAcG,SAAd,GAA0B,UAA1B;AACAvC,0BAAc,EAAd;AACH;AACJ,SAbD;AAcH,OArCL,EAsCI;AACA,gBAAUwC,GAAV,EAAe;AACXnK,gBAAQC,GAAR,CAAY,sCAAsCkK,GAAlD;AACH,OAzCL;AA2CH,KA7CD,MA6CO;AACHnK,cAAQC,GAAR,CAAY,6CAAZ;AACH;;AAED,aAASkJ,SAAT,GAAqB;AACjB7B,eAAS8C,OAAT,GAAmB,GAAnB;AACA,UAAIC,kBAAkB/C,SAASgD,iBAA/B;AACAtK,cAAQC,GAAR,CAAYoK,eAAZ;AACA,UAAIE,eAAe,IAAIC,UAAJ,CAAeH,eAAf,CAAnB;AAEA7B,gBAAUiC,SAAV,CAAoB,CAApB,EAAuB,CAAvB,EAA0B/B,KAA1B,EAAiCE,MAAjC;;AAEA,UAAI8B,UAAU,SAAVA,OAAU,GAAY;AACtB7B,qBAAa8B,sBAAsBD,OAAtB,CAAb;AAEApD,iBAASsD,oBAAT,CAA8BL,YAA9B;AAEA/B,kBAAUqC,SAAV,GAAsB,SAAtB;AACArC,kBAAUsC,QAAV,CAAmB,CAAnB,EAAsB,CAAtB,EAAyBpC,KAAzB,EAAgCE,MAAhC;AAEA,YAAImC,WAAYrC,QAAQ2B,eAAT,GAA4B,GAA3C;AACA,YAAIW,SAAJ;AACA,YAAIC,IAAI,CAAR;;AAEA,aAAK,IAAIlK,IAAI,CAAb,EAAgBA,IAAIsJ,eAApB,EAAqCtJ,GAArC,EAA0C;AACtCiK,sBAAYT,aAAaxJ,CAAb,CAAZ;AACAyH,oBAAUqC,SAAV,GAAsB,UAAUG,YAAY,GAAtB,IAA6B,SAAnD;AACAxC,oBAAUsC,QAAV,CAAmBG,CAAnB,EAAsBrC,SAASoC,YAAY,CAA3C,EAA8CD,QAA9C,EAAwDC,YAAY,CAApE;AAEAC,eAAKF,WAAW,CAAhB;AAEA;;;;;;;;;AASH;AACJ,OA7BD;;AA8BAL;AACH;AAEJ;;AAED,WAAStB,SAAT,GAAqB;AACjBpB,aAASkD,IAAT,CAAcnJ,KAAd,GAAsB,CAAtB;AACH;;AAED,WAAS6E,gBAAT,GAA4B;AACxB;AACA,QAAIM,SAASiE,KAAT,KAAmB,SAAvB,EAAkC;AAC9BjE,eAASkE,OAAT,GAAmBC,IAAnB,CAAwB,YAAY;AAChCvM,eAAOwM,oBAAP,CAA4BzC,UAA5B;AACAL,kBAAUiC,SAAV,CAAoB,CAApB,EAAuB,CAAvB,EAA0B/B,KAA1B,EAAiCE,MAAjC;AACAJ,kBAAUqC,SAAV,GAAsB,aAAtB;AACArC,kBAAUsC,QAAV,CAAmB,CAAnB,EAAsB,CAAtB,EAAyBpC,KAAzB,EAAgCE,MAAhC;AACA5I,gBAAQC,GAAR,CAAY,yBAAyBiH,SAASiE,KAA9C;AACH,OAND;AAQH;AACJ;;AAED,WAASzE,eAAT,GAA2B;AACvB,QAAIQ,SAASiE,KAAT,KAAmB,WAAnB,IAAkCjE,SAASiE,KAAT,KAAmB,QAAzD,EAAmE;AAC/DjE,eAASqE,MAAT,GAAkBF,IAAlB,CAAuB,YAAY;AAC/BrL,gBAAQC,GAAR,CAAY,yBAAyBiH,SAASiE,KAA9C;AACH,OAFD;AAGH;AACJ;;AAED,WAASK,gBAAT,CAA0BC,KAA1B,EAAiC;AAC7B,QAAIC,SAAS,CAAb;AACA,QAAIC,OAAJ;AACA,QAAInL,SAASiL,MAAMjL,MAAnB,CAH6B,CAI7B;;AACA,SAAK,IAAIO,IAAI,CAAb,EAAgBA,IAAIP,MAApB,EAA4BO,GAA5B,EAAiC;AAC7B2K,gBAAUD,MAAM1K,CAAN,CAAV;AACH;;AACD4K,cAAUD,SAASlL,MAAnB;AACAR,YAAQC,GAAR,CAAY,aAAa0L,OAAzB;AACA,WAAOA,OAAP;AACH;;AAED,WAASC,UAAT,GAAsB;AAClBC,eAAW,YAAY;AACnBjE,UAAIkE,IAAJ;AACAC;AACA/L,cAAQC,GAAR,CAAY,sBAAZ;AACH,KAJD,EAIG,IAJH;AAMH;AACJ,C","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f91ac1c8b4ab2a89ae04","/**\r\n * Created by Pastuh on 19.10.2017.\r\n */\r\n\r\nimport bindDependencies from './dependencies';\r\nimport {\r\n    SELECT_SELECTORS, CHECK_SELECTORS, CLICK_SELECTORS, SEARCH_SELECTORS, GO_TO_SELECTORS,\r\n    CLICK, GO_TO, OFF, SELECT, CHECK, SCROLL_DOWN, SCROLL_UP, SCROLL_TO_BOTTOM, SCROLL_TO_TOP, SEARCH, STOP,\r\n    REG_EXP_CLICK, REG_EXP_GO_TO, REG_EXP_OFF, REG_EXP_SEARCH, REG_EXP_CHECK, REG_EXP_SELECT, REG_EXP_SCROLL_DOWN,\r\n    REG_EXP_SCROLL_TO_TOP, REG_EXP_SCROLL_TO_BOTTOM, REG_EXP_STOP, REG_EXP_SCROLL_UP,\r\n    MODE_TYPE, MODE_SELECT, MODE_NO_MODE\r\n} from './const';\r\nimport speechRecognition from './visualizer';\r\n\r\nbindDependencies();\r\n\r\nlet elements = [];\r\nlet selectedInputField;\r\nlet inputMode = MODE_NO_MODE;\r\n\r\nwindow.onload = function () {\r\n\r\n    speechRecognition();\r\n\r\n    $('#start-search').click(function () {\r\n        checkInputMode($('#search-input').val());\r\n    });\r\n\r\n    $('html, body').click(function () {\r\n        changeInputMode(MODE_NO_MODE);\r\n    });\r\n\r\n    function checkInputMode(input) {\r\n\r\n        let t0 = performance.now();\r\n\r\n        let userCommand = input.toString().toLowerCase().trim();\r\n\r\n        let result;\r\n\r\n        if (REG_EXP_STOP.test(userCommand)) {\r\n            changeInputMode(MODE_NO_MODE);\r\n            return;\r\n        }\r\n\r\n        if (inputMode === MODE_NO_MODE) {\r\n            switch (true) {\r\n                case REG_EXP_CLICK.test(userCommand):\r\n\r\n                    changeInputMode(MODE_NO_MODE);\r\n\r\n                    result = splitUserCommand(userCommand, CLICK);\r\n\r\n                    if (result) {\r\n                        console.log('Search string for CLICKS: ' + result);\r\n                        searchForButtons(CLICK_SELECTORS, result);\r\n                    }\r\n\r\n                    break;\r\n                case REG_EXP_SCROLL_DOWN.test(userCommand):\r\n                    scrollDown();\r\n                    break;\r\n                case REG_EXP_SCROLL_UP.test(userCommand):\r\n                    scrollUp();\r\n                    break;\r\n                case REG_EXP_SCROLL_TO_TOP.test(userCommand):\r\n                    scrollDown();\r\n                    break;\r\n                case REG_EXP_SCROLL_TO_BOTTOM.test(userCommand):\r\n                    scrollUp();\r\n                    break;\r\n                case REG_EXP_GO_TO.test(userCommand):\r\n\r\n                    result = splitUserCommand(userCommand, GO_TO);\r\n\r\n                    if (result) {\r\n                        console.log('Search string for GO_TO: ' + result);\r\n                        searchForInputFields(GO_TO_SELECTORS, result)\r\n                    }\r\n                    break;\r\n                case REG_EXP_SELECT.test(userCommand):\r\n\r\n                    break;\r\n                case REG_EXP_SEARCH.test(userCommand):\r\n\r\n                    break;\r\n                case REG_EXP_CHECK.test(userCommand):\r\n\r\n                    changeInputMode(MODE_NO_MODE);\r\n\r\n                    result = splitUserCommand(userCommand, CHECK);\r\n\r\n                    if (result) {\r\n                        console.log('Search string for CHECK: ' + result);\r\n                        searchForCheckboxesAndRadios(CHECK_SELECTORS, userCommand);\r\n                    }\r\n                    break;\r\n                case REG_EXP_OFF.test(userCommand):\r\n\r\n                    break;\r\n                default:\r\n            }\r\n        } else if (inputMode === MODE_TYPE && selectedInputField) {\r\n            console.log('---------Typing text......: ' + userCommand);\r\n            let textContent = $(selectedInputField).val();\r\n            if (textContent.trim().length === 0) {\r\n                textContent += userCommand;\r\n            } else {\r\n                textContent += ' ' + userCommand;\r\n            }\r\n            $(selectedInputField).val(textContent);\r\n        } else if (inputMode === MODE_SELECT) {\r\n            //Kommt\r\n        }\r\n\r\n        if (elements.length === 0) {\r\n            console.error('-------------No element found------------------');\r\n        }\r\n        elements = [];\r\n\r\n        let t1 = performance.now();\r\n        console.log('Execution time: ' + (t1 - t0) + ' mil');\r\n    }\r\n\r\n    function searchForInputFields(selector, userInput) {\r\n        selectedInputField = null;\r\n\r\n        let selectedElements = $(selector);\r\n\r\n        let elem;\r\n\r\n        if (selectedElements.length > 0) {\r\n\r\n            for (let i = 0; i < selectedElements.length; i++) {\r\n\r\n                elem = selectedElements[i];\r\n\r\n                //console.log('######Found input fields#####: ' + selectedElements[i].textContent);\r\n\r\n                if (isVisible(elem) && (elem.textContent.toLowerCase().trim().startsWith(userInput) || hasValueAttribute(elem, userInput)\r\n                        || hasPlaceholderAttribute(elem, userInput))) {\r\n                    elements.push(elem);\r\n                }\r\n            }\r\n\r\n            if (elements.length === 1) {\r\n\r\n                if ($(elements).is('label')) {\r\n                    selectedInputField = $(elements).next();\r\n                    selectedInputField.focus();\r\n                    changeInputMode(MODE_TYPE);\r\n\r\n                } else {\r\n                    selectedInputField = $(elements);\r\n                    selectedInputField.focus();\r\n                    changeInputMode(MODE_TYPE);\r\n                }\r\n            } else {\r\n                multipleElementsSelected();\r\n            }\r\n        }\r\n    }\r\n\r\n    function searchForButtons(selector, userInput) {\r\n\r\n        let elem;\r\n\r\n        let selectedElements = $(selector);\r\n\r\n        if (selectedElements.length > 0) {\r\n            for (let i = 0; i < selectedElements.length; i++) {\r\n\r\n                elem = selectedElements[i];\r\n\r\n                //console.log('######Found Buttons#####: ' + elem.textContent);\r\n\r\n                if (isVisible(elem) && (elem.textContent.toLowerCase().trim().startsWith(userInput)\r\n                    || hasValueAttribute(selectedElements[i], userInput))) {\r\n                    elements.push(elem);\r\n                }\r\n            }\r\n\r\n            if (elements.length === 1) {\r\n                elements[0].style.backgroundColor = 'black';\r\n                elements[0].style.color = 'white';\r\n                elements[0].click();\r\n            } else {\r\n                multipleElementsSelected();\r\n            }\r\n        }\r\n    }\r\n\r\n    function searchForCheckboxesAndRadios(selector, userInput) {\r\n\r\n        let selectedElements = $(selector);\r\n\r\n        if (selectedElements.length > 0) {\r\n            for (let i = 0; i < selectedElements.length; i++) {\r\n\r\n                console.log('######Found Checks#####: ' + selectedElements[i].textContent.toLowerCase());\r\n\r\n                if (selectedElements[i].textContent.toLowerCase().trim().startsWith(userInput)) {\r\n                    elements.push(selectedElements[i]);\r\n                }\r\n            }\r\n\r\n            if (elements.length === 1) {\r\n                $(elements).first().click();\r\n                /*elements[0].style.backgroundColor = 'black';\r\n                elements[0].style.color = 'white';\r\n                elements[0].click();*/\r\n            } else {\r\n                multipleElementsSelected();\r\n            }\r\n        }\r\n    }\r\n\r\n    function multipleElementsSelected() {\r\n        for (let i = 0; i < elements.length; i++) {\r\n            elements[i].style.border = 'black 5px solid';\r\n            console.log('++++Selected Elements+++++: ' + elements[i].textContent);\r\n        }\r\n    }\r\n\r\n    function hasValueAttribute(element, userInput) {\r\n        if (element.value !== undefined) {\r\n            if (element.value.toString().toLowerCase().startsWith(userInput)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    function hasPlaceholderAttribute(element, userInput) {\r\n        if (element.placeholder !== undefined) {\r\n            if (element.placeholder.toString().toLowerCase().startsWith(userInput)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    function changeInputMode(newInputMode) {\r\n        inputMode = newInputMode;\r\n        if (inputMode !== MODE_TYPE) {\r\n            $(selectedInputField).blur();\r\n            selectedInputField = null;\r\n        }\r\n        console.log('------Current MODE------: ' + inputMode);\r\n    }\r\n\r\n    function scrollDown() {\r\n        $('html, body').animate({\r\n            scrollTop: $(window).scrollTop() + (window.innerHeight / 2)\r\n        });\r\n    }\r\n\r\n    function scrollUp() {\r\n        $('html, body').animate({\r\n            scrollTop: $(window).scrollTop() - (window.innerHeight / 2)\r\n        });\r\n    }\r\n\r\n    function splitUserCommand(userCommand, command) {\r\n        return userCommand.slice((userCommand.indexOf(command) + command.length)).trim();\r\n    }\r\n\r\n    function isVisible(elem) {\r\n        let top_of_element = $(elem).offset().top;\r\n        let bottom_of_element = $(elem).offset().top + $(elem).outerHeight();\r\n        let bottom_of_screen = $(window).scrollTop() + $(window).height();\r\n        let top_of_screen = $(window).scrollTop();\r\n        if ((bottom_of_screen > top_of_element) && (top_of_screen < bottom_of_element)) {\r\n            console.log('ELEMENT VISIBLE');\r\n        } else {\r\n            console.log('ELEMENT NOT VISIBLE');\r\n        }\r\n        return (bottom_of_screen > top_of_element) && (top_of_screen < bottom_of_element);\r\n    }\r\n\r\n    /**\r\n     *Setup Google Speech Recognition\r\n     */\r\n    try {\r\n        window.SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\r\n        const recognition = new SpeechRecognition();\r\n\r\n        recognition.lang = 'en-US';\r\n        recognition.interimResults = false;\r\n\r\n        /*if (inputMode){\r\n            recognition.addEventListener('result', e => {\r\n                const transcript = Array.from(e.results)\r\n                    .map(result => result[0])\r\n                    .map(result => result.transcript)\r\n                    .join('')\r\n                console.log('**********'  + transcript);\r\n                if (e.results[0].isFinal){\r\n                    checkInputMode(result);\r\n                }\r\n            });\r\n        }*/\r\n        recognition.onresult = function (event) {\r\n            let result = event.results[0][0].transcript;\r\n            console.info('-----ON RESULT------: ' + result);\r\n            if (result) {\r\n                checkInputMode(result);\r\n            }\r\n        };\r\n        recognition.addEventListener('end', recognition.start);\r\n        recognition.start();\r\n    }\r\n    catch (e) {\r\n        console.log('Web Speech error: ' + e);\r\n    }\r\n\r\n\r\n};\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./public/javascripts/controller.js","/*\r\n* Bind needed Libraries in HTML\r\n* */\r\nexport default function() {\r\n    console.log('IN Dependencies !!!!!!!!!');\r\n    let scriptJquery = document.createElement('script');\r\n    let scriptAnnyang = document.createElement('script');\r\n    let scriptSpeechKitt = document.createElement('script');\r\n    scriptJquery.src = '//ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js';\r\n    scriptAnnyang.src = '//cdnjs.cloudflare.com/ajax/libs/annyang/2.6.0/annyang.min.js';\r\n    scriptSpeechKitt.src = '//cdnjs.cloudflare.com/ajax/libs/SpeechKITT/0.3.0/speechkitt.min.js';\r\n    console.log('SCRIPT !!!!!!!!!' + scriptJquery.src.toString());\r\n\r\n    document.getElementsByTagName('head')[0].appendChild(scriptJquery);\r\n    document.getElementsByTagName('head')[0].appendChild(scriptAnnyang);\r\n    document.getElementsByTagName('head')[0].appendChild(scriptSpeechKitt);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/javascripts/dependencies.js","/**\r\n * Selectors\r\n */\r\nconst CLICK_SELECTORS = 'a, li, :button';\r\nconst GO_TO_SELECTORS = 'label, input[type=\"email\"], input[type=\"text\"], input[type=\"password\"], input[type=\"number\"],' +\r\n    'input[type=\"search\"], input[type=\"tel\"]';\r\nconst CHECK_SELECTORS = 'label';\r\nconst SELECT_SELECTORS = 'select';\r\nconst SEARCH_SELECTORS = 'input[type=\"search\"]';\r\n/**\r\n * Keywords\r\n */\r\nconst CLICK = 'click';\r\nconst CHECK = 'check';\r\nconst GO_TO = 'go to';\r\nconst OFF = 'off';\r\nconst SELECT = 'select';\r\nconst SCROLL_UP = 'scroll up';\r\nconst SCROLL_DOWN = 'scroll down';\r\nconst SCROLL_TO_BOTTOM = 'scroll to bottom';\r\nconst SCROLL_TO_TOP = 'scroll to top';\r\nconst SEARCH = 'search';\r\nconst STOP = 'stop';\r\n/**\r\n * RegExp\r\n */\r\nlet REG_EXP_CLICK = /(click)\\s[[a-zA-Z0-9\\.]/;\r\nlet REG_EXP_GO_TO = /(go to)\\s[[a-zA-Z0-9\\.]/;\r\nlet REG_EXP_OFF = /^(off)$/;\r\nlet REG_EXP_SEARCH = /^(search)$/;\r\nlet REG_EXP_CHECK = /(check)\\s[[a-zA-Z0-9\\.]/;\r\nlet REG_EXP_SELECT = /(select)\\s[[a-zA-Z0-9\\.]/;\r\nlet REG_EXP_SCROLL_UP = /(scroll up)(\\s[[a-zA-Z0-9\\.])?/;\r\nlet REG_EXP_SCROLL_DOWN = /(scroll down)(\\s[[a-zA-Z0-9\\.])?/;\r\nlet REG_EXP_SCROLL_TO_TOP = /(scroll)\\s(to\\s)?(top)(\\s[[a-zA-Z0-9\\.])?/;\r\nlet REG_EXP_SCROLL_TO_BOTTOM = /(scroll)\\s(to\\s)?(bottom)(\\s[[a-zA-Z0-9\\.])?/;\r\nlet REG_EXP_STOP = /^(stop)$/;\r\nconsole.log(REG_EXP_SCROLL_UP.test('scroll up'));\r\n/**\r\n * Input Mode\r\n * */\r\nconst MODE_TYPE = 'type';\r\nconst MODE_SELECT = 'select';\r\nconst MODE_NO_MODE = 'no_mode';\r\n/**\r\n * Export consts\r\n */\r\nexport {SELECT_SELECTORS, CHECK_SELECTORS, CLICK_SELECTORS, SEARCH_SELECTORS, GO_TO_SELECTORS,\r\n        CLICK, GO_TO, OFF, SELECT,SCROLL_DOWN, SCROLL_UP, SCROLL_TO_BOTTOM, SCROLL_TO_TOP, SEARCH, CHECK, STOP,\r\n        REG_EXP_CLICK, REG_EXP_GO_TO, REG_EXP_OFF, REG_EXP_SEARCH, REG_EXP_CHECK, REG_EXP_SELECT, REG_EXP_SCROLL_DOWN,\r\n                                 REG_EXP_SCROLL_TO_TOP, REG_EXP_SCROLL_TO_BOTTOM,REG_EXP_STOP, REG_EXP_SCROLL_UP,\r\n        MODE_TYPE, MODE_SELECT, MODE_NO_MODE};\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./public/javascripts/const.js","export default function speechRecognition() {\r\n\r\n    $('#startRecord').click(function () {\r\n        /*if (typeof (Storage) !== 'undefined') {\r\n         console.log('audio value : ' + localStorage.getItem('audio'));\r\n         if (localStorage.getItem('audio') == true) {\r\n             runAudioContext();\r\n             startAudioRecord();\r\n             $('#startRecord').textContent = 'Stop';\r\n             console.log('Audio settings stored');\r\n        } else {\r\n         console.log('Storage is undefined: ' + Storage);\r\n        }*/\r\n\r\n        if (this.textContent.toLowerCase().trim() === 'start') {\r\n            if (typeof (Storage) == undefined) {\r\n                if (localStorage.getItem('audio') !== true) {\r\n                    localStorage.setItem('audio', true);\r\n                    console.log('Save audio settings');\r\n                }\r\n            }\r\n            //recognition.start();\r\n            runAudioContext();\r\n            startAudioRecord();\r\n            this.textContent = 'Stop';\r\n        } else {\r\n            stopAudioContext();\r\n            this.textContent = 'Start';\r\n        }\r\n    });\r\n\r\n    /**\r\n     * Setup Web Audio API\r\n     * */\r\n    navigator.getUserMedia = (navigator.getUserMedia ||\r\n        navigator.webkitGetUserMedia ||\r\n        navigator.mozGetUserMedia ||\r\n        navigator.msGetUserMedia);\r\n\r\n// set up forked web audio context, for multiple browsers\r\n// window. is needed otherwise Safari explodes\r\n\r\n    let audioCtx = new (window.AudioContext || window.webkitAudioContext)();\r\n    let source;\r\n\r\n//set up the different audio nodes we will use for the app\r\n    let analyser = audioCtx.createAnalyser();\r\n    analyser.minDecibels = -90;\r\n    analyser.maxDecibels = -10;\r\n    analyser.smoothingTimeConstant = 0.85;\r\n\r\n    let audioChunks = [];\r\n    let rec;\r\n    let isRecording = false;\r\n\r\n    let distortion = audioCtx.createWaveShaper();\r\n    let gainNode = audioCtx.createGain();\r\n    let biquadFilter = audioCtx.createBiquadFilter();\r\n    let convolver = audioCtx.createConvolver();\r\n\r\n// set up canvas context for visualizer\r\n\r\n    let canvas = document.querySelector('.visualizer');\r\n    let canvasCtx = canvas.getContext(\"2d\");\r\n    const WIDTH = canvas.width;\r\n    const HEIGHT = canvas.height;\r\n    let drawVisual;\r\n\r\n//main block for doing the audio recording\r\n    function startAudioRecord() {\r\n        console.log('Start Audio Record');\r\n        if (navigator.getUserMedia) {\r\n            console.log('getUserMedia supported.');\r\n            navigator.getUserMedia(\r\n                // constraints - only audio needed for this app\r\n                {\r\n                    audio: true\r\n                },\r\n\r\n                // Success callback\r\n                function (stream) {\r\n                    source = audioCtx.createMediaStreamSource(stream);\r\n                    source.connect(analyser);\r\n                    analyser.connect(distortion);\r\n                    distortion.connect(biquadFilter);\r\n                    biquadFilter.connect(convolver);\r\n                    convolver.connect(gainNode);\r\n                    gainNode.connect(audioCtx.destination);\r\n                    visualize();\r\n                    voiceMute();\r\n\r\n                    rec = new MediaRecorder(stream);\r\n\r\n                    rec.ondataavailable = e => {\r\n                        audioChunks.push(e.data);\r\n                    };\r\n                    rec.onstop = function () {\r\n\r\n                        isRecording = false;\r\n\r\n                        if (audioChunks.length > 0) {\r\n                            let audio = new Blob(audioChunks, {type: 'audio/wave'});\r\n                            recordedAudio.src = URL.createObjectURL(audio);\r\n                            recordedAudio.controls = true;\r\n                            audioDownload.href = recordedAudio.src;\r\n                            audioDownload.download = 'wave';\r\n                            audioDownload.innerHTML = 'download';\r\n                            audioChunks = [];\r\n                        }\r\n                    }\r\n                },\r\n                // Error callback\r\n                function (err) {\r\n                    console.log('The following gUM error occured: ' + err);\r\n                }\r\n            );\r\n        } else {\r\n            console.log('getUserMedia not supported on your browser!');\r\n        }\r\n\r\n        function visualize() {\r\n            analyser.fftSize = 512;\r\n            let bufferLengthAlt = analyser.frequencyBinCount;\r\n            console.log(bufferLengthAlt);\r\n            let dataArrayAlt = new Uint8Array(bufferLengthAlt);\r\n\r\n            canvasCtx.clearRect(0, 0, WIDTH, HEIGHT);\r\n\r\n            let drawAlt = function () {\r\n                drawVisual = requestAnimationFrame(drawAlt);\r\n\r\n                analyser.getByteFrequencyData(dataArrayAlt);\r\n\r\n                canvasCtx.fillStyle = '#f5f5f5';\r\n                canvasCtx.fillRect(0, 0, WIDTH, HEIGHT);\r\n\r\n                let barWidth = (WIDTH / bufferLengthAlt) * 2.5;\r\n                let barHeight;\r\n                let x = 0;\r\n\r\n                for (let i = 0; i < bufferLengthAlt; i++) {\r\n                    barHeight = dataArrayAlt[i];\r\n                    canvasCtx.fillStyle = 'rgb(' + (barHeight + 100) + ',50,50)';\r\n                    canvasCtx.fillRect(x, HEIGHT - barHeight / 2, barWidth, barHeight / 2);\r\n\r\n                    x += barWidth + 1;\r\n\r\n                    /*if (barHeight >= 100) {\r\n                        /!*console.log('#####' + barHeight);*!/\r\n                        if (isRecording === false) {\r\n                            console.log('...Starting recorder');\r\n                            rec.start();\r\n                            isRecording = true;\r\n                            setTimeOut();\r\n                        }\r\n                    }*/\r\n                }\r\n            };\r\n            drawAlt();\r\n        }\r\n\r\n    }\r\n\r\n    function voiceMute() {\r\n        gainNode.gain.value = 0;\r\n    }\r\n\r\n    function stopAudioContext() {\r\n        //sendRequest();\r\n        if (audioCtx.state === 'running') {\r\n            audioCtx.suspend().then(function () {\r\n                window.cancelAnimationFrame(drawVisual);\r\n                canvasCtx.clearRect(0, 0, WIDTH, HEIGHT);\r\n                canvasCtx.fillStyle = \"transparent\";\r\n                canvasCtx.fillRect(0, 0, WIDTH, HEIGHT);\r\n                console.log('AudioContext state: ' + audioCtx.state);\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n    function runAudioContext() {\r\n        if (audioCtx.state === 'suspended' || audioCtx.state === 'closed') {\r\n            audioCtx.resume().then(function () {\r\n                console.log('AudioContext state: ' + audioCtx.state);\r\n            });\r\n        }\r\n    }\r\n\r\n    function getAverageVolume(array) {\r\n        let values = 0;\r\n        let average;\r\n        let length = array.length;\r\n        // get all the frequency amplitudes\r\n        for (let i = 0; i < length; i++) {\r\n            values += array[i];\r\n        }\r\n        average = values / length;\r\n        console.log('AVArAGE:' + average);\r\n        return average;\r\n    }\r\n\r\n    function setTimeOut() {\r\n        setTimeout(function () {\r\n            rec.stop();\r\n            sendRequest();\r\n            console.log('...Stopping recorder');\r\n        }, 1500);\r\n\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./public/javascripts/visualizer.js"],"sourceRoot":""}