{"version":3,"sources":["webpack:///webpack/bootstrap 6afb879528c4b47755c4","webpack:///./public/javascripts/controller.js"],"names":["bind","scriptJquery","document","createElement","scriptAnnyang","scriptSpeechKitt","src","getElementsByTagName","appendChild","sound","elements","INPUT_SELECTORS","FORM_SELECTORS","regExpClick","regExpGo","regExpCheck","console","log","test","window","onload","$","click","sendRequest","checkInputType","val","navigator","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","mediaDevices","audio","then","stream","rec","MediaRecorder","ondataavailable","audioChunks","push","e","data","state","Blob","type","recordedAudio","URL","createObjectURL","controls","audioDownload","download","innerHTML","catch","startRecord","onclick","disabled","stopRecord","start","setupAudioNodes","stop","input","userInput","toString","toLowerCase","trim","t0","performance","now","result","slice","indexOf","undefined","searchElements","selectElements","t1","selector","selectedElements","length","i","textContent","checkValue","j","style","border","is","next","focus","backgroundColor","color","error","alert","element","value","ajax","host","port","dataType","path","method","done","fail","jqXHR","errorMessage"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AC7DA;;;AAIA,SAASA,IAAT,GAAgB;AACZ,MAAIC,eAAeC,SAASC,aAAT,CAAuB,QAAvB,CAAnB;AACA,MAAIC,gBAAgBF,SAASC,aAAT,CAAuB,QAAvB,CAApB;AACA,MAAIE,mBAAmBH,SAASC,aAAT,CAAuB,QAAvB,CAAvB;AACAF,eAAaK,GAAb,GAAmB,4DAAnB;AACAF,gBAAcE,GAAd,GAAoB,+DAApB;AACAD,mBAAiBC,GAAjB,GAAuB,qEAAvB;AACAJ,WAASK,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,EAAyCC,WAAzC,CAAqDP,YAArD,EAPY,CAQZ;;AACAC,WAASK,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,EAAyCC,WAAzC,CAAqDH,gBAArD;AACH;;AAEDL;AACA,IAAIS,KAAJ;AACA,IAAIC,WAAW,EAAf;AACA,IAAIC,kBAAkB,gBAAtB;AACA,IAAIC,iBAAiB,sIAArB;AAEA,IAAIC,cAAc,yBAAlB;AACA,IAAIC,WAAW,yBAAf;AACA,IAAIC,cAAc,yBAAlB;AACAC,QAAQC,GAAR,CAAY,iBAAiBJ,YAAYK,IAAZ,CAAiB,uBAAjB,CAA7B;AACAF,QAAQC,GAAR,CAAY,cAAcH,SAASI,IAAT,CAAc,6BAAd,CAA1B;AACAF,QAAQC,GAAR,CAAY,iBAAiBF,YAAYG,IAAZ,CAAiB,mBAAjB,CAA7B;;AAEAC,OAAOC,MAAP,GAAgB,YAAY;AAExBC,IAAE,UAAF,EAAcC,KAAd,CAAoB,YAAY;AAC5BC;AACH,GAFD;AAIAF,IAAE,eAAF,EAAmBC,KAAnB,CAAyB,YAAY;AACjCE,mBAAeH,EAAE,eAAF,EAAmBI,GAAnB,EAAf;AACH,GAFD;AAIAC,YAAUC,YAAV,GAAyBD,UAAUC,YAAV,IACrBD,UAAUE,kBADW,IAErBF,UAAUG,eAFW,IAGrBH,UAAUI,cAHd;;AAIA,MAAIJ,UAAUC,YAAd,EAA4B;AACxBD,cAAUK,YAAV,CAAuBJ,YAAvB,CAAoC;AAACK,aAAO;AAAR,KAApC,EACKC,IADL,CACU,kBAAU;AACZxB,cAAQyB,MAAR;AACAC,YAAM,IAAIC,aAAJ,CAAkBF,MAAlB,CAAN;;AACAC,UAAIE,eAAJ,GAAsB,aAAK;AACvBC,oBAAYC,IAAZ,CAAiBC,EAAEC,IAAnB;;AACA,YAAIN,IAAIO,KAAJ,KAAc,UAAlB,EAA8B;AAC1B,cAAIV,QAAQ,IAAIW,IAAJ,CAASL,WAAT,EAAsB;AAACM,kBAAM;AAAP,WAAtB,CAAZ;AACAC,wBAAcvC,GAAd,GAAoBwC,IAAIC,eAAJ,CAAoBf,KAApB,CAApB;AACAa,wBAAcG,QAAd,GAAyB,IAAzB,CAH0B,CAI1B;;AACAC,wBAAcC,QAAd,GAAyB,KAAzB;AACAD,wBAAcE,SAAd,GAA0B,UAA1B;AACH;AACJ,OAVD;AAWH,KAfL,EAgBKC,KAhBL,CAgBW;AAAA,aAAKpC,QAAQC,GAAR,CAAYuB,CAAZ,CAAL;AAAA,KAhBX;;AAkBAa,gBAAYC,OAAZ,GAAsB,aAAK;AACvBD,kBAAYE,QAAZ,GAAuB,IAAvB;AACAC,iBAAWD,QAAX,GAAsB,KAAtB;AACAjB,oBAAc,EAAd;AACAH,UAAIsB,KAAJ;AACAC,sBAAgBjD,KAAhB;AACH,KAND;;AAOA+C,eAAWF,OAAX,GAAqB,aAAK;AACtBD,kBAAYE,QAAZ,GAAuB,KAAvB;AACAC,iBAAWD,QAAX,GAAsB,IAAtB;AACApB,UAAIwB,IAAJ;AACH,KAJD;AAKH,GA/BD,MA+BO;AACH3C,YAAQC,GAAR,CAAY,4BAAZ;AACH;;AAED,WAASO,cAAT,CAAwBoC,KAAxB,EAA+B;AAC3B,QAAIC,YAAYD,MAAME,QAAN,GAAiBC,WAAjB,GAA+BC,IAA/B,EAAhB;AACA,QAAIC,KAAKC,YAAYC,GAAZ,EAAT;AACAnD,YAAQC,GAAR,CAAYJ,YAAYK,IAAZ,CAAiB2C,SAAjB,CAAZ;;AACA,QAAIhD,YAAYK,IAAZ,CAAiB2C,SAAjB,CAAJ,EAAiC;AAC7B,UAAIO,SAASP,UAAUQ,KAAV,CAAiBR,UAAUS,OAAV,CAAkB,OAAlB,IAA6B,CAA9C,EAAkDN,IAAlD,EAAb;;AACA,UAAII,UAAUG,SAAd,EAAyB;AACrBvD,gBAAQC,GAAR,CAAY,+BAA+BmD,MAA3C;AACAI,uBAAe7D,eAAf,EAAgCyD,MAAhC;AACH;AACJ;;AACD,QAAItD,SAASI,IAAT,CAAc2C,SAAd,CAAJ,EAA8B;AAC1B,UAAIO,UAASP,UAAUQ,KAAV,CAAiBR,UAAUS,OAAV,CAAkB,OAAlB,IAA6B,CAA9C,EAAkDN,IAAlD,EAAb;;AACA,UAAII,WAAUG,SAAd,EAAyB;AACrBvD,gBAAQC,GAAR,CAAY,oBAAoBmD,OAAhC;AACAI,uBAAe5D,cAAf,EAA+BwD,OAA/B;AACH;AACJ;;AACDK,mBAAe/D,QAAf;AACAA,eAAW,EAAX;AACA,QAAIgE,KAAKR,YAAYC,GAAZ,EAAT;AACAnD,YAAQC,GAAR,CAAY,sBAAsByD,KAAKT,EAA3B,IAAiC,KAA7C;AACH;;AAED,WAASO,cAAT,CAAwBG,QAAxB,EAAkCd,SAAlC,EAA6C;AACzC,QAAIe,mBAAmBvD,EAAEsD,QAAF,CAAvB;;AACA,QAAIC,iBAAiBC,MAAjB,GAA0B,CAA9B,EAAiC;AAC7B,WAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIF,iBAAiBC,MAArC,EAA6CC,GAA7C,EAAkD;AAC9C9D,gBAAQC,GAAR,CAAY,2BAA2B2D,iBAAiBE,CAAjB,EAAoBC,WAApB,CAAgChB,WAAhC,EAAvC;;AACA,YAAIa,iBAAiBE,CAAjB,EAAoBC,WAApB,CAAgChB,WAAhC,GAA8CC,IAA9C,OAAyDH,SAAzD,IACGmB,WAAWJ,iBAAiBE,CAAjB,CAAX,EAAgCjB,SAAhC,CADP,EACmD;AAC/CnD,mBAAS6B,IAAT,CAAcqC,iBAAiBE,CAAjB,CAAd;AACH;AACJ;AACJ;AACJ;;AAED,WAASL,cAAT,GAA0B;AACtB,QAAI/D,SAASmE,MAAT,IAAmB,CAAvB,EAA0B;AACtB,WAAK,IAAII,IAAI,CAAb,EAAgBA,IAAIvE,SAASmE,MAA7B,EAAqCI,GAArC,EAA0C;AACtCvE,iBAASuE,CAAT,EAAYC,KAAZ,CAAkBC,MAAlB,GAA2B,iBAA3B;AACH;AACJ,KAJD,MAIO,IAAIzE,SAASmE,MAAT,KAAoB,CAApB,IAAyBnE,SAAS,CAAT,MAAgB6D,SAA7C,EAAwD;AAC3D,UAAIlD,EAAEX,QAAF,EAAY0E,EAAZ,CAAe,OAAf,CAAJ,EAA6B;AACzB/D,UAAEX,QAAF,EAAY2E,IAAZ,GAAmBC,KAAnB;AACH,OAFD,MAEO;AACH5E,iBAAS,CAAT,EAAYwE,KAAZ,CAAkBK,eAAlB,GAAoC,OAApC;AACA7E,iBAAS,CAAT,EAAYwE,KAAZ,CAAkBM,KAAlB,GAA0B,OAA1B;AACA9E,iBAAS,CAAT,EAAYY,KAAZ;AACH;AACJ,KARM,MAQA;AACHN,cAAQyE,KAAR,CAAc,kBAAd;AACAC,YAAM,mBAAN;AACH;AACJ;;AAED,WAASV,UAAT,CAAoBW,OAApB,EAA6B9B,SAA7B,EAAwC;AACpC,QAAI8B,QAAQC,KAAR,KAAkBrB,SAAtB,EAAiC;AAC7B,UAAIoB,QAAQC,KAAR,CAAc9B,QAAd,GAAyBC,WAAzB,OAA2CF,SAA/C,EAA0D;AACtD,eAAO,IAAP;AACH;AACJ;;AACD,WAAO,KAAP;AACH;;AAED,WAAStC,WAAT,GAAuB;AACnBF,MAAEwE,IAAF,CAAO;AACHC,YAAM,WADH;AAEHC,YAAM,MAFH;AAGHC,gBAAU,MAHP;AAIHC,YAAM,GAJH;AAKHC,cAAQ;AALL,KAAP,EAMGC,IANH,CAMQ,UAAU1D,IAAV,EAAgB;AACpBiD,YAAM,4BAA4BjD,IAAlC;AACH,KARD,EAQG2D,IARH,CAQQ,UAAUC,KAAV,EAAiBC,YAAjB,EAA+Bb,KAA/B,EAAsC,CAE7C,CAVD;AAWH,GA9HuB,CAgIxB;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8EH,CAhND,C","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6afb879528c4b47755c4","/**\r\n * Created by Pastuh on 19.10.2017.\r\n */\r\n\r\nfunction bind() {\r\n    let scriptJquery = document.createElement('script');\r\n    let scriptAnnyang = document.createElement('script');\r\n    let scriptSpeechKitt = document.createElement('script');\r\n    scriptJquery.src = '//ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js';\r\n    scriptAnnyang.src = '//cdnjs.cloudflare.com/ajax/libs/annyang/2.6.0/annyang.min.js';\r\n    scriptSpeechKitt.src = '//cdnjs.cloudflare.com/ajax/libs/SpeechKITT/0.3.0/speechkitt.min.js';\r\n    document.getElementsByTagName('head')[0].appendChild(scriptJquery);\r\n    //document.getElementsByTagName('head')[0].appendChild(scriptAnnyang);\r\n    document.getElementsByTagName('head')[0].appendChild(scriptSpeechKitt);\r\n}\r\n\r\nbind();\r\nlet sound;\r\nlet elements = [];\r\nlet INPUT_SELECTORS = 'a, li, :button';\r\nlet FORM_SELECTORS = 'label, input[type=\"email\"], input[type=\"text\"], input[type=\"password\"], input[type=\"number\"],input[type=\"search\"], input[type=\"tel\"]';\r\n\r\nlet regExpClick = /(click)\\s[[a-zA-Z0-9\\.]/;\r\nlet regExpGo = /(go to)\\s[[a-zA-Z0-9\\.]/;\r\nlet regExpCheck = /(check)\\s[[a-zA-Z0-9\\.]/;\r\nconsole.log('Test Click: ' + regExpClick.test('please click Link kek'));\r\nconsole.log('Test Go: ' + regExpGo.test('please go to Email address:'));\r\nconsole.log('Test Check: ' + regExpCheck.test('please check male'));\r\n\r\nwindow.onload = function () {\r\n\r\n    $('#request').click(function () {\r\n        sendRequest();\r\n    });\r\n\r\n    $('#start-search').click(function () {\r\n        checkInputType($('#search-input').val());\r\n    });\r\n\r\n    navigator.getUserMedia = navigator.getUserMedia ||\r\n        navigator.webkitGetUserMedia ||\r\n        navigator.mozGetUserMedia ||\r\n        navigator.msGetUserMedia;\r\n    if (navigator.getUserMedia) {\r\n        navigator.mediaDevices.getUserMedia({audio: true})\r\n            .then(stream => {\r\n                sound = stream;\r\n                rec = new MediaRecorder(stream);\r\n                rec.ondataavailable = e => {\r\n                    audioChunks.push(e.data);\r\n                    if (rec.state === \"inactive\") {\r\n                        let audio = new Blob(audioChunks, {type: 'audio/x-mpeg-3'});\r\n                        recordedAudio.src = URL.createObjectURL(audio);\r\n                        recordedAudio.controls = true;\r\n                        //audioDownload.href = recordedAudio.src;\r\n                        audioDownload.download = 'mp3';\r\n                        audioDownload.innerHTML = 'download';\r\n                    }\r\n                }\r\n            })\r\n            .catch(e => console.log(e));\r\n\r\n        startRecord.onclick = e => {\r\n            startRecord.disabled = true;\r\n            stopRecord.disabled = false;\r\n            audioChunks = [];\r\n            rec.start();\r\n            setupAudioNodes(sound);\r\n        };\r\n        stopRecord.onclick = e => {\r\n            startRecord.disabled = false;\r\n            stopRecord.disabled = true;\r\n            rec.stop();\r\n        };\r\n    } else {\r\n        console.log('getUserMedia not supported');\r\n    }\r\n\r\n    function checkInputType(input) {\r\n        let userInput = input.toString().toLowerCase().trim();\r\n        let t0 = performance.now();\r\n        console.log(regExpClick.test(userInput));\r\n        if (regExpClick.test(userInput)) {\r\n            let result = userInput.slice((userInput.indexOf('click') + 5)).trim();\r\n            if (result != undefined) {\r\n                console.log('Search string for CLICKS: ' + result);\r\n                searchElements(INPUT_SELECTORS, result);\r\n            }\r\n        }\r\n        if (regExpGo.test(userInput)) {\r\n            let result = userInput.slice((userInput.indexOf('go to') + 5)).trim();\r\n            if (result != undefined) {\r\n                console.log('Search string: ' + result);\r\n                searchElements(FORM_SELECTORS, result)\r\n            }\r\n        }\r\n        selectElements(elements);\r\n        elements = [];\r\n        let t1 = performance.now();\r\n        console.log('Execution time: ' + (t1 - t0) + 'mil');\r\n    }\r\n\r\n    function searchElements(selector, userInput) {\r\n        let selectedElements = $(selector);\r\n        if (selectedElements.length > 0) {\r\n            for (let i = 0; i < selectedElements.length; i++) {\r\n                console.log('Elements textContent: ' + selectedElements[i].textContent.toLowerCase());\r\n                if (selectedElements[i].textContent.toLowerCase().trim() === userInput\r\n                    || checkValue(selectedElements[i], userInput)) {\r\n                    elements.push(selectedElements[i]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    function selectElements() {\r\n        if (elements.length >= 2) {\r\n            for (let j = 0; j < elements.length; j++) {\r\n                elements[j].style.border = 'black 5px solid';\r\n            }\r\n        } else if (elements.length === 1 && elements[0] !== undefined) {\r\n            if ($(elements).is('label')) {\r\n                $(elements).next().focus();\r\n            } else {\r\n                elements[0].style.backgroundColor = 'black';\r\n                elements[0].style.color = 'white';\r\n                elements[0].click();\r\n            }\r\n        } else {\r\n            console.error('No element found');\r\n            alert('No Elements found');\r\n        }\r\n    }\r\n\r\n    function checkValue(element, userInput) {\r\n        if (element.value !== undefined) {\r\n            if (element.value.toString().toLowerCase() === userInput) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    function sendRequest() {\r\n        $.ajax({\r\n            host: 'localhost',\r\n            port: '3000',\r\n            dataType: 'text',\r\n            path: '/',\r\n            method: 'GET'\r\n        }).done(function (data) {\r\n            alert('Greteengs from Server: ' + data);\r\n        }).fail(function (jqXHR, errorMessage, error) {\r\n\r\n        });\r\n    }\r\n\r\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n    /*if (! window.AudioContext) {\r\n        if (! window.webkitAudioContext) {\r\n            alert('no audiocontext found');\r\n        }\r\n        window.AudioContext = window.webkitAudioContext;\r\n    }\r\n    var context = new AudioContext();\r\n    var audioBuffer;\r\n    var sourceNode;\r\n    var splitter;\r\n    var analyser, analyser2;\r\n    var javascriptNode;\r\n    // get the context from the canvas to draw on\r\n    var ctx = $(\"#canvas\").get()[0].getContext(\"2d\");\r\n    // create a gradient for the fill. Note the strange\r\n    // offset, since the gradient is calculated based on\r\n    // the canvas, not the specific element we draw\r\n    var gradient = ctx.createLinearGradient(0,0,0,130);\r\n    gradient.addColorStop(1,'#000000');\r\n    gradient.addColorStop(0.75,'#ff0000');\r\n    gradient.addColorStop(0.25,'#ffff00');\r\n    gradient.addColorStop(0,'#ffffff');\r\n    function setupAudioNodes(stream) {\r\n        // setup a javascript node\r\n        // setup a javascript node\r\n        javascriptNode = context.createScriptProcessor(2048, 1, 1);\r\n        // connect to destination, else it isn't called\r\n        javascriptNode.connect(context.destination);\r\n\r\n        // setup a analyzer\r\n        analyser = context.createAnalyser();\r\n        analyser.smoothingTimeConstant = 0.3;\r\n        analyser.fftSize = 1024;\r\n\r\n        // create a buffer source node\r\n        sourceNode = context.createMediaStreamSource();\r\n        sourceNode. = stream;\r\n\r\n        // connect the source to the analyser\r\n        sourceNode.connect(analyser);\r\n\r\n        // we use the javascript node to draw at a specific interval.\r\n        analyser.connect(javascriptNode);\r\n\r\n        // and connect to destination, if you want audio\r\n        sourceNode.connect(context.destination);\r\n    }\r\n    // when the javascript node is called\r\n    // we use information from the analyzer node\r\n    // to draw the volume\r\n    javascriptNode.onaudioprocess = function() {\r\n        // get the average for the first channel\r\n        // get the average, bincount is fftsize / 2\r\n        var array =  new Uint8Array(analyser.frequencyBinCount);\r\n        analyser.getByteFrequencyData(array);\r\n        var average = getAverageVolume(array)\r\n\r\n        // clear the current state\r\n        ctx.clearRect(0, 0, 60, 130);\r\n\r\n        // set the fill style\r\n        ctx.fillStyle=gradient;\r\n\r\n        // create the meters\r\n        ctx.fillRect(0,130-average,25,130);\r\n    }\r\n    function getAverageVolume(array) {\r\n        var values = 0;\r\n        var average;\r\n        var length = array.length;\r\n        // get all the frequency amplitudes\r\n        for (var i = 0; i < length; i++) {\r\n            values += array[i];\r\n        }\r\n        average = values / length;\r\n        return average;\r\n    }*/\r\n\r\n};\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./public/javascripts/controller.js"],"sourceRoot":""}